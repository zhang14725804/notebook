## å•ä¾‹æ¨¡å¼

### 1.æ‡’æ±‰æ¨¡å¼ã€‚

```golang
type Singleton struct{}
// private
var instance *Singleton
// public
func GetInstance() *Singleton{
    // ğŸ˜… éçº¿ç¨‹å®‰å…¨
    if instance == nil{
        instance = &Singleton{}
    }
    return instance
}
```

###  2. æ‡’æ±‰åŠ é”æ¨¡å¼

```golang
type Singleton struct{}
// private
var instance *Singleton

var mu sync.Mutex
// public
func GetInstance() *Singleton{
    // ğŸ˜… è¿™ç§ç»“æ„çš„å•ä¾‹æ¨¡å¼,ä¼šå¯¼è‡´æ¯æ¬¡éƒ½åŠ é”,ä¸¥é‡æµªè´¹æ€§èƒ½
    mu.Lock()
    defer mu.Unlock()
    if instance == nil{
        instance = &Singleton{}
    }
    return instance
}
```

###  3. æ‡’æ±‰åŒé‡é”æ£€æµ‹æ¨¡å¼

```golang
type Singleton struct{}
// private
var instance *Singleton

var mu sync.Mutex
// public
func GetInstance() *Singleton{
    // ğŸ˜… å…ˆåˆ¤æ–­
    if instance == nil{
        // å†åŠ é”
        mu.Lock()
        defer mu.Unlock()
        // å†åˆ¤æ–­
        if instance == nil{
            instance = &Singleton{}
        }
    }
    return instance
}
```

### 4. åˆ©ç”¨å†…ç½®çš„sync.Onceæ¥å®ç°

```golang
type Singleton struct{}
// private
var instance *Singleton

var lock sync.Once

func GetInstance() *Singleton{
    lock.Do(func(){
        instance = &Singleton{}
    })
    return instance
}
```