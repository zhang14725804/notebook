## 商品服务

### 数据库表（😅😅😅）

    商品分类表（这个表故事多）
    商品表（这个表故事更多）
    品牌表
    品牌分类表
    首页轮播图组件
    

数据库表的一些注意事项：

    表公共字段(id,各种time等等)
    类似【gorm】中一些钩子函数
    根据参数决定【软删除】还是【硬删除】

【库存（可以分离出单独的表和服务，涉及仓库管理、进销存）】、【导入mysql数据】

### 定义proto（😅😅😅）

    商品接口
    商品分类接口
    brand和brand分类
    轮播图接口

### 服务接口

- 商品列表接口（😅）

根据类目查询商品列表，商品分类中（三级分类），一级类目找到三级类目：（1）多表连接；（2）子查询

商品列表过滤条件：【价格、类别、热销、新旧、关键字、分页、tab栏】

【默认参数，参数获取怎么做】

注册服务可以有多种可能：consul、etcd、zookeeper

优雅推出，推出之后将服务从注册中心删除，监听【syscall.SIGINI， syscall.SIGTERM】信号，通过channal通知并执行回调函数

涉及【批量操作】

- 添加商品

【表单验证怎么做】

【都没有草稿这么一说，二话不说入库先】

【库存设置，涉及跨服务，涉及分布式事务😅】

- 商品详情

除了基本的商品信息，还需要【库存信息 —— 需要去库存服务查询】

- 商品删除、商品库存（库存应该是一个服务而不是一个接口，【BFF层】拼接业务的时候拼接服务）

- 商品更新PATCH请求（修改部分状态内容）

是否热销、是否新品、是否上架（在售与否）

- 更新商品PATCH/PUT请求（修改商品）

