


### 一台server可以链接多少个客户端（TCP最大连接数）

### 为什么 UDP 头部没有「首部长度」字段，而 TCP 头部有「首部长度」字段呢？

原因是 TCP 有可变长的「选项」字段，而 UDP 头部长度则是不会变化的，无需多一个字段去记录 UDP 的首部长度。

### 为什么 UDP 头部有「包长度」字段，而 TCP 头部则没有「包长度」字段呢？


### 为什么是三次握手？不是两次、四次？

    三次握手才可以阻止历史重复连接的初始化（主要原因）
    三次握手才可以同步双方的初始序列号
    三次握手才可以避免资源浪费


    四次握手其实也能够可靠的同步双方的初始化序号，但由于第二步和第三步可以优化成一步，所以就成了「三次握手」

### 既然 IP 层会分片，为什么 TCP 层还需要 MSS 呢？


### 为什么挥手需要四次？

（1）关闭连接时，客户端向服务端发送 FIN 时，仅仅表示客户端不再发送数据了但是还能接收数据。

（2）服务器收到客户端的 FIN 报文时，先回一个 ACK 应答报文，而服务端可能还有数据需要处理和发送，等服务端不再发送数据时，才发送 FIN 报文给客户端来表示同意现在关闭连接。

### 为什么需要 TIME_WAIT 状态？

（1）主动发起关闭连接的一方，才会有 TIME-WAIT 状态。

（2）防止具有相同「四元组」的「旧」数据包被收到；

（3）保证「被动关闭连接」的一方能被正确的关闭，即保证最后的 ACK 能让被动关闭方接收，从而帮助其正常关闭；


### TCP如何保证可靠传输

### UDP和TCP首部



https://mp.weixin.qq.com/s/Tc09ovdNacOtnMOMeRc_uA

https://mp.weixin.qq.com/s/tH8RFmjrveOmgLvk9hmrkw